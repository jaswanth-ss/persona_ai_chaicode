<div class="chat-container">
  <div class="header">
    <h1>Persona Chat App</h1>
    <div class="persona-selector">
      <button 
        [class]="selectedPersona === 'hitesh' ? 'persona-btn active' : 'persona-btn'"
        (click)="switchPersona('hitesh')">
        Hitesh Choudhary
      </button>
      <button 
        [class]="selectedPersona === 'piyush' ? 'persona-btn active' : 'persona-btn'"
        (click)="switchPersona('piyush')">
        Piyush Garg
      </button>
    </div>
  </div>

  <div class="chat-messages">    
    @for (message of messages; track $index) {
      <div [class]="message.isUser ? 'message user-message' : 'message ai-message'">
        @if (!message.isUser) {
          <div class="persona-tag">{{message.persona === 'hitesh' ? 'Hitesh' : 'Piyush'}}</div>
        }
        <div class="message-content">{{message.text}}</div>
      </div>
    }
    

  </div>

  <div class="chat-input">
    <input 
      type="text" 
      [(ngModel)]="currentMessage" 
      (keyup.enter)="sendMessage()"
      placeholder="Type your message...">
    <button (click)="sendMessage()">
      Send
    </button>
  </div>
</div>
